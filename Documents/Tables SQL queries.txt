CREATE TABLE `iTax`.`CarTypes` ( `ID` INT NOT NULL AUTO_INCREMENT , `typeName` VARCHAR(50) NOT NULL , `description` VARCHAR(250) NULL , `seats` INT NOT NULL , `luggage` INT NOT NULL , PRIMARY KEY (`ID`)) ENGINE = InnoDB;
CREATE TABLE `iTax`.`Cars` ( `VIN` VARCHAR(17) NOT NULL , `licensePlate` VARCHAR(10) NOT NULL , `make` VARCHAR(25) NOT NULL , `model` VARCHAR(25) NOT NULL , `prodYear` INT(4) NOT NULL , `carTypeID` INT NOT NULL , PRIMARY KEY (`VIN`), UNIQUE `UNIQUE` (`licensePlate`), INDEX `INDEX` (`carTypeID`)) ENGINE = InnoDB;
CREATE TABLE `iTax`.`Driver` ( `ID` INT NOT NULL AUTO_INCREMENT , `firstName` VARCHAR(50) NOT NULL , `lastName` VARCHAR(50) NOT NULL , `password` VARCHAR(200) NOT NULL , `licensePlate` VARCHAR(10) NOT NULL , PRIMARY KEY (`ID`), INDEX `INDEX` (`licensePlate`)) ENGINE = InnoDB;
CREATE TABLE `iTax`.`RideHistory` ( `ID` INT NOT NULL AUTO_INCREMENT , `userID` INT NOT NULL , `driverID` INT NOT NULL , `rideDate` DATE NOT NULL , `price` FLOAT NOT NULL , `ratingOfDriver` INT(1) NOT NULL , PRIMARY KEY (`ID`), INDEX `INDEX` (`userID`), INDEX `INDEX2` (`driverID`)) ENGINE = InnoDB;
CREATE TABLE `iTax`.`User` ( `ID` INT NOT NULL AUTO_INCREMENT , `username` VARCHAR(50) NOT NULL , `password` VARCHAR(200) NOT NULL , `email` VARCHAR(50) NOT NULL , `firstName` VARCHAR(50) NOT NULL , `lastName` VARCHAR(50) NOT NULL , `carTypeID` INT NOT NULL , `totalRides` INT NOT NULL , `missedRides` INT NOT NULL , `totalSpent` FLOAT NOT NULL , `lastRideID` INT NULL , `rideStreak` INT NULL , PRIMARY KEY (`ID`), INDEX `INDEX` (`carTypeID`), INDEX `INDEX2` (`lastRideID`)) ENGINE = InnoDB;
ALTER TABLE `User` ADD UNIQUE(`username`);
ALTER TABLE `User` ADD UNIQUE(`email`);
